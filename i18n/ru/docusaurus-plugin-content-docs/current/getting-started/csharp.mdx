# –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã: .NET

<AppliesTo all />
–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å .NET 5+ (–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è) –∏–ª–∏ .Net Framework.

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [–ü–∞–∫–µ—Ç Velopack NuGet](https://www.nuget.org/packages/velopack) –≤ —Å–≤–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç:
   ```cmd
   dotnet –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç Velopack
   ```
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Velopack –≤ –Ω–∞—á–∞–ª–µ Program.Main:
   ```cs
   static void Main(string[] args)
   {
       VelopackApp.Build().Run();
       // ... –≤–∞—à –¥—Ä—É–≥–æ–π –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞ –Ω–∏–∂–µ
   }
   ```
3. –î–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

   ```cs
   —á–∞—Å—Ç–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ UpdateMyApp()
   {
       var mgr = new UpdateManager("https://the.place/you-host/updates");

       // –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
       var newVersion = await mgr.CheckForUpdatesAsync();
       if (newVersion == null)
           return; // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

       // –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
       await mgr.DownloadUpdatesAsync(newVersion);

       // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
       mgr.ApplyUpdatesAndRestart(newVersion);
   }
   ```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ `vpk`:
   ```cmd
   –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ dotnet -g vpk
   ```
5. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ dotnet –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –≤—ã–ø—É—Å–∫ Velopack! üéâ
   ```batch
   dotnetPublish -c Release --self-contained -r win-x64 -o .\publish
   vpk package -u YourAppId -v 1.0.0 -p .\publish -e yourMainApp.exe
   ```

‚úÖ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫.
–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ–π —Ä–µ–ª–∏–∑ –Ω–∞ —Å–≤–æ–π –≤–µ–±-—Å–∞–π—Ç –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `vpk upload`, —á—Ç–æ–±—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –µ–≥–æ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≤–∞–º–∏ –º–µ—Å—Ç–µ.
