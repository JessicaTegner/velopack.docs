# Начало работы: ржавчина

<AppliesTo all />
Начните работу с нашим официальным кроссплатформенным Rust Crate.

1. Добавьте Velopack в свой Cargo.toml:
   ```toml
   [зависимости]
   velopack = { version = "0.0", Features = ["async"] } 
   # Замените приведенное выше актуальной версией и желаемыми функциями.
   ```

2. Добавьте следующий код в функцию main():
   ```rust
   используйте велопак::*;
   fn main() {
       // VelopackApp должен быть запущен первым.
       // В некоторых случаях он может завершить/перезапустить 
       // процесс во время обновления/установки.
       VelopackApp::build().run();
       
       // ... здесь код запуска вашего другого приложения
   }
   ```

3. Добавьте где-нибудь в свое приложение автоматические обновления:

   ```rust
   используйте велопак::*;
   использовать в любом случае::Result;

   fn update_my_app() -> Result<()> {
       let um = UpdateManager::new("https://the.place/you-host/updates", None)?;

       // проверка обновлений
       разрешить обновления: Option<UpdateInfo> = um.check_for_updates()?;
       if update.is_none() {
           return Ok(()); // нет доступных обновлений
       }

       // скачиваем обновления
       let update = update.unwrap();
       um.download_updates(&updates, |progress| { 
           println!("Прогресс загрузки: {}%", Progress);
       })?;

       // применяем обновления
       um.apply_updates_and_restart(&updates, RestartArgs::None)?;
       Ок(())
   }
   ```

4. Создайте свое приложение с помощью Cargo:
   ```sh
   сборка груза -- выпуск
   ```

5. Установите инструмент командной строки `vpk`:
   ```sh
   обновление инструмента dotnet -g vpk
   ```
   :::tip
   **_Для использования и обновления `vpk`_**
   у вас должен быть установлен .NET Core SDK 6 :::

6. Упакуйте релиз/установщики Velopack:
   ```sh
   vpk package -u MyAppUniqueId -v 1.0.0 -p /target/release -e myexename.exe
   ```

✅ Готово! Теперь в вашем приложении есть автоматические обновления и установщик. 
Вы можете загрузить свой релиз на свой веб-сайт или использовать команду `vpk upload`, чтобы опубликовать его в выбранном вами месте.
